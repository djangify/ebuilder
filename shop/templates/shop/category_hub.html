{% extends "base.html" %}
{% load static %}
{% block title %}Shop by Category – {{ homepage_settings.business_name }}{% endblock %}
{% block meta_description %}
Browse all product categories in the digital shop.
{% endblock %}


{% block extra_head %}
<link rel="canonical" href="{{ request.build_absolute_uri }}">

<!-- AI -->
<meta name="ai-page-type" content="shop-category-hub" />
<meta name="ai-topics" content="digital downloads, categories, bookkeeping tools" />

<!-- JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "Shop Categories – ebuilder",
  "url": "{{ request.build_absolute_uri }}"
}
</script>
{% endblock %}


{% block content %}
<section class="w-full bg-[color:var(--color-light)] py-12">
  <div class="max-w-5xl mx-auto px-6 bg-white rounded-xl shadow-md p-10">

    <!-- Heading -->
    <h1 class="text-2xl md:text-3xl font-bold text-[color:var(--color-primary)] mb-6">
      Shop by Category
    </h1>
    <p class="text-lg text-[color:var(--color-font-main)] mb-10">
      Browse all collections in the shop. Explore our categories 
    </p>

    <!-- Category Grid -->
    <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
      {% for category in categories %}
      <div class="border border-[color:var(--color-accent)]/40 rounded-lg p-6 hover:shadow-md hover:border-[color:var(--color-accent)] transition">
        <h3 class="text-xl font-semibold mb-3 text-[color:var(--color-font-main)]">
          <a href="{{ category.get_absolute_url }}" class="text-[color:var(--color-accent)] hover:underline">
            {{ category.name }}
          </a>
        </h3>

        {% if category.description %}
        <p class="text-[color:var(--color-font-main)] text-sm leading-relaxed">
          {{ category.description|truncatewords:20 }}
        </p>
        {% else %}
        <p class="text-[color:var(--color-font-main)] text-sm leading-relaxed">
          Explore products in the {{ category.name }} collection.
        </p>
        {% endif %}
      </div>
      {% empty %}
      <p class="col-span-full text-center text-[color:var(--color-font-main)]">
        No categories found at the moment. <a href="{% url 'shop:product_list' %}" class="text-[color:var(--color-accent)] hover:underline">Return to the shop</a>.
      </p>
      {% endfor %}
    </div>

    <!-- Back to Shop Button -->
    <div class="mt-10 text-center">
      <a href="{% url 'shop:product_list' %}"
      
         class="inline-block px-6 py-3 rounded-lg bg-[color:var(--color-accent)] text-white font-semibold hover:opacity-90 transition">
        Back to Shop
      </a>
    </div>

  </div>
</section>
{% endblock %}
