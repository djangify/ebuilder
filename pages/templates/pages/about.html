{% extends "base.html" %}
{% load instance_utils %}

{% block extra_head %}
<link rel="canonical" href="{{ request.build_absolute_uri }}">

<!-- Open Graph -->
{% include "includes/seo/og_meta.html" with 
    og_title=page.meta_title|default:page.title
    og_description=page.meta_description
%}

<!-- WebPage Schema -->
{% include "includes/seo/schema_webpage.html" with page=page %}
{% endblock %}

{% block content %}
{% if hero %}
    {% include "pages/sections/hero.html" %}
{% endif %}

{% if page.show_title %}
<div class="max-w-3xl mx-auto text-center mt-8 mb-8">
    <h1 class="text-4xl font-bold">{{ page.title }}</h1>
</div>
{% endif %}

<div class="max-w-3xl mx-auto text-center mt-8 mb-8">
    {% if page.meta_description %}
    <p class="text-[color:var(--color-font-main)]/70">{{ page.meta_description }}</p>
    {% endif %}
</div>

{% for block in content_blocks %}
    {% if block|is_pagesection %}
        {% include "pages/sections/"|add:block.section_type|add:".html" with section=block %}
    {% elif block|is_threecolumn %}
        {% include "pages/sections/content_blocks.html" with block=block %}
    {% elif block|is_faqblock %}
        {% include "pages/sections/faq_block.html" with block=block %}
    {% elif block.images %}
        {% include "pages/sections/gallery_section.html" with block=block %}

    {% endif %}
{% endfor %}

{% endblock %}
